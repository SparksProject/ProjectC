<div data-ng-include="'/views/partials/pagecontentheader.html'"></div>
<div class="row">
    <div class="col-md-3">
        <div class="form-group">
            <a ui-sref="mailreports/add" class="btn btn-block m-icon btn-eo">
                Yeni Kayıt <i class="m-icon-swapright m-icon-white"></i>
            </a>
        </div>
    </div>
</div>
<div class="row" ng-init="GetMailResultSet()">
    <div class="col-md-12">
        <div class="portlet box tbl-eo">
            <div class="portlet-title">
                <div class="caption">
                    {{$state.current.data.action}}
                </div>
                <div class="tools"> </div>
            </div>
            <!-- Sonuç varsa gösterilecek tablo -->
            <div class="portlet-body" ng-show="object.result!=undefined">
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th ng-repeat="x in object.headers"> {{x}} </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="y in object.result">
                            <td ng-repeat="z in y">
                                <!-- Tarih olmayan bir değer ise -->
                                <span ng-show="z.DataType.indexOf('Date') == -1">
                                    {{z.Value}}
                                </span>
                                <!-- Tarih içeren bir değer ise -->
                                <span ng-show="z.DataType.indexOf('Date') != -1">
                                    <span ng-show="z.DataType == 'Date'">
                                        {{z.Value | date:'dd/MM/yyyy'}}
                                    </span>
                                    <span ng-show="z.DataType != 'Date'">
                                        {{z.Value | date:'dd/MM/yyyy HH:mm:ss'}}
                                    </span>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- Sonuç gelmeyince gösterilecek tablo -->
            <div class="portlet-body" ng-show="object.result==undefined">
                <table class="table table-striped table-bordered table-hover" dt-genericreport aa-data="list">
                    <thead>
                        <tr>
                            <th>Sonuç</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</div>